{% extends "base.html" %}
{% block content %}
<div class="layout">
  <!-- Lateral -->
  <aside class="sidebar">
    <h2>Seus Grupos</h2>
    <a href="{% url 'rachais:create_group' %}" class="btn btn-block">+ Criar Novo Grupo</a>

    <div style="margin-top:12px">
      {% if groups %}
        {% for g in groups %}
          <a class="group-item" href="{% url 'rachais:group_detail' g.id %}">
            {{ g.name }}
          </a>
        {% endfor %}
      {% else %}
        <div class="group-item" style="opacity:.7">Você ainda não participa de nenhum grupo.</div>
      {% endif %}
    </div>
  </aside>

  <!-- Conteúdo principal -->
  <section class="content">
    {% if messages %}
      {% for m in messages %}
        <div class="banner {% if m.tags %}banner-{{ m.tags }}{% endif %}">
          {{ m }}
        </div>
      {% endfor %}
    {% endif %}

    <h1>Criar novo grupo</h1>
    <p class="subtitle">Dê um nome e comece a dividir despesas.</p>

    <div class="card" style="margin-top:12px">
      <form method="post">
        {% csrf_token %}
        <label for="name" class="block mb-2">Nome do Grupo</label>
        <input id="name" name="name" type="text" maxlength="100"
               placeholder="Ex: Viagem para a Praia"
               class="input" required>

        <div class="form-actions" style="margin-top:12px">
          <button type="submit" class="btn">Criar</button>
          <a href="{% url 'rachais:group_list' %}" class="btn btn-light">Cancelar</a>
        </div>
      </form>
    </div>
  </section>
</div>
{% endblock %}
