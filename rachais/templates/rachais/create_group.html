{% extends "base.html" %}

{% block content %}
<div class="dashboard-shell">
  <aside class="dashboard-sidebar">
    <div class="sidebar-card">
      <div class="sidebar-title">Seus Grupos</div>
      <a class="sidebar-action" href="{% url 'rachais:create_group' %}">+ Criar Novo Grupo</a>
      <div class="sidebar-groups">
        {% if groups %}
          {% for g in groups %}
            <a class="sidebar-link" href="{% url 'rachais:group_detail' g.id %}">{{ g.name }}</a>
          {% endfor %}
        {% else %}
          <span class="sidebar-empty">Você ainda não participa de nenhum grupo.</span>
        {% endif %}
      </div>
    </div>
  </aside>

  <section class="dashboard-main">
    {% if messages %}
      <div class="flash-stack">
        {% for m in messages %}
          <div class="flash flash-{{ m.tags|default:'info' }}">{{ m }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <div class="panel">
      <div class="panel-header">
        <div>
          <h1 class="panel-title">Criar novo grupo</h1>
          <p class="panel-subtitle">Defina um nome e convide seus participantes.</p>
        </div>
      </div>
      <form method="post" class="form-stack">
        {% csrf_token %}
        <label class="form-label" for="name">Nome do grupo</label>
        <input class="form-input" id="name" name="name" type="text" maxlength="100" placeholder="Ex.: Viagem para a Praia" value="{{ name|default:'' }}" required>
        <div class="form-actions">
          <a class="btn-secondary" href="{% url 'rachais:group_list' %}">Cancelar</a>
          <button class="btn-primary" type="submit">Criar</button>
        </div>
      </form>
    </div>
  </section>
</div>
{% endblock %}
